# Example configuration for the Copilot worker

# --- Port (choose one auth mechanism) ---
PORT_REGION=eu                            # eu|us
# Option A: client credentials
PORT_CLIENT_ID=
PORT_CLIENT_SECRET=
# Option B: direct token (skips auth exchange)
# PORT_ACCESS_TOKEN=

# --- Sources (set to false to skip) ---
INGEST_GITHUB=true
INGEST_M365=true

# --- GitHub ---
GITHUB_ORG=your-org
GITHUB_TOKEN=ghp_xxx
GITHUB_API_BASE=https://api.github.com
GITHUB_API_VERSION=2022-11-28

# --- Microsoft Graph ---
MS_TENANT_ID=your-tenant-id-guid
MS_CLIENT_ID=app-reg-client-id
MS_CLIENT_SECRET=app-reg-client-secret
GRAPH_API_BASE=https://graph.microsoft.com
# Comma-separated skuPartNumber list for Copilot licenses (leave empty to skip)
M365_COPILOT_SKUS=MICROSOFT_365_COPILOT

# --- Behavior ---
# Graph period mapping: 7->D7, 30->D30, 90->D90, 180->D180, >180->ALL
PERIOD_DAYS=30
SEATS_ACTIVE_WINDOW_DAYS=14

# --- Use Port Webhooks (recommended) ---
USE_PORT_WEBHOOK=true
PORT_WEBHOOK_SECRET=change-me
PORT_WEBHOOK_SEATS_URL=https://ingest.getport.io/your-seats-webhook-key
PORT_WEBHOOK_M365_SUMMARY_URL=https://ingest.getport.io/your-m365-summary-webhook-key
PORT_WEBHOOK_M365_USERS_URL=https://ingest.getport.io/your-m365-users-webhook-key
